{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Angular\\\\toko\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate as t } from \"tslib\";\nimport { LitElement as e, html as s } from \"lit\";\nimport { query as i } from \"lit/decorators/query.js\";\nimport { getElementLanguageDirection as o, baseStyles as a, hasAriaLabelTypeAttr as l, syncProps as r, describeElementByElements as n, getElementUpdates as p, childrenUpdateComplete as u, pxToRem as d, calculateOptimalLayout as h, property as c, state as y, querySlot as f, querySlotAll as g, event as b, responsive as m } from \"@cds/core/internal\";\nimport v from \"./control.element.scss.js\";\nimport { syncHTML5Validation as x } from \"../utils/validate.js\";\nimport { defaultControlWidth as L, defaultFormLayout as C, getStatusIcon as A, associateInputAndLabel as T, associateInputToDatalist as $, getCurrentMessageStatus as S, controlIsWrapped as I, formLayouts as k } from \"../utils/utils.js\";\nvar w;\n!function (t) {\n  t.default = \"default\", t.ariaLabel = \"aria-label\", t.inputGroup = \"input-group\", t.hiddenLabel = \"hidden-label\";\n}(w || (w = {}));\nlet D = class extends e {\n  constructor() {\n    super(...arguments);\n    this.status = \"neutral\", this.controlWidth = L, this.validate = !1, this.responsive = !0, this._layout = C, this.focused = !1, this.disabled = !1, this.readonly = !1, this.fixedControlWidth = !1, this.supportsPrefixSuffixActions = !0, this.labelLayout = w.default, this.observers = [];\n  }\n\n  get layout() {\n    return this._layout;\n  }\n\n  set layout(t) {\n    const e = this._layout;\n    this._layout = t ? t.replace(\"-inline\", \"\") : C, this.requestUpdate(\"layout\", e);\n  }\n\n  get isRTL() {\n    return \"rtl\" === o(this);\n  }\n\n  static get styles() {\n    return [a, v];\n  }\n\n  get hasAriaLabelTypeAttr() {\n    return l(this.inputControl);\n  }\n\n  get hasStatusIcon() {\n    return this.labelLayout !== w.inputGroup && (\"error\" === this.status || \"success\" === this.status);\n  }\n\n  render() {\n    return s`${this.labelLayout === w.hiddenLabel || this.labelLayout === w.inputGroup ? s`<span cds-layout=\"display:screen-reader-only\"><slot name=\"label\" @slotchange=\"${() => this.associateInputAndLabel()}\"></slot></span>` : \"\"}<div cds-layout=\"${\"vertical\" === this.layout ? \"vertical gap:xs\" : \"horizontal gap:lg\"} align:stretch\" class=\"private-host ${this.isRTL ? \"rtl\" : \"\"}\">${this.primaryLabelTemplate}<div class=\"input-message-container\" cds-layout=\"\n          wrap:none\n          ${\"compact\" === this.layout ? \"horizontal\" : \"vertical\"}\n          ${\"stretch\" !== this.controlWidth || this.fixedControlWidth ? \"\" : \"align:horizontal-stretch\"}\n          ${this.messages?.length ? \"gap:xs\" : \"\"}\"><div cds-layout=\"horizontal gap:xs wrap:none\"><div cds-layout=\"horizontal align:top wrap:none ${\"shrink\" === this.controlWidth || this.fixedControlWidth ? \"align:shrink\" : \"align:horizontal-stretch\"}\" class=\"${this.hasStatusIcon ? \"input-container with-status-icon\" : \"input-container\"}\">${this.inputTemplate} ${this.prefixTemplate}<slot name=\"input\"></slot>${this.suffixTemplate}</div>${this.hasStatusIcon ? A(this.status) : \"\"}</div>${this.messagesTemplate}<slot name=\"datalist\" @slotchange=\"${() => this.associateInputToDatalist()}\"></slot></div></div>`;\n  }\n\n  get inputTemplate() {\n    return s``;\n  }\n\n  get prefixDefaultTemplate() {\n    return null;\n  }\n\n  get suffixDefaultTemplate() {\n    return null;\n  }\n\n  get isGenericControl() {\n    return \"cds-control\" === this.tagName.toLowerCase();\n  }\n\n  get hasControlActions() {\n    return this.controlActions.length > 0 || this.prefixDefaultTemplate || this.suffixDefaultTemplate;\n  }\n\n  get primaryLabelTemplate() {\n    return s`${this.labelLayout === w.default ? s`<cds-internal-control-label .disabled=\"${this.disabled}\" cds-layout=\"align:shrink align:top\" action=\"primary\"><slot name=\"label\" @slotchange=\"${() => this.associateInputAndLabel()}\"></slot></cds-internal-control-label>` : \"\"}`;\n  }\n\n  get messagesTemplate() {\n    return s`<div cds-layout=\"${\"compact\" === this.layout ? \"align:shrink\" : \"\"}\" class=\"messages\"><slot name=\"message\"></slot></div>`;\n  }\n\n  get prefixTemplate() {\n    return s`<div cds-layout=\"align:shrink align:vertical-center\" class=\"prefix\"><div cds-layout=\"horizontal gap:xxs\">${this.prefixDefaultTemplate}<slot name=\"prefix\"></slot></div></div>`;\n  }\n\n  get suffixTemplate() {\n    return s`<div cds-layout=\"align:shrink align:vertical-center\" class=\"suffix\"><div cds-layout=\"horizontal gap:xxs\"><slot name=\"suffix\"></slot>${this.suffixDefaultTemplate}</div></div>`;\n  }\n\n  connectedCallback() {\n    super.connectedCallback(), this.setAttribute(\"cds-control\", \"\");\n  }\n\n  firstUpdated(t) {\n    super.firstUpdated(t), this.setupHostAttributes(), this.setupHTML5Validation(), this.setActionOffsetPadding(), this.setupResponsive(), this.setupDescribedByUpdates(), this.setupLabelLayout(), this.assignSlotIfInControlGroup();\n  }\n\n  updated(t) {\n    super.updated(t), this.messages.forEach(e => r(e, this, {\n      disabled: t.has(\"disabled\")\n    })), r(this.inputControl, this, {\n      disabled: t.has(\"disabled\")\n    });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback(), this.observers.forEach(t => t?.disconnect());\n  }\n\n  associateInputAndLabel() {\n    T(this.inputControl, this.label);\n  }\n\n  associateInputToDatalist() {\n    $(this.inputControl, this.datalistControl);\n  }\n\n  setupDescribedByUpdates() {\n    var _this = this;\n\n    this.messageSlot?.addEventListener(\"slotchange\", /*#__PURE__*/_asyncToGenerator(function* () {\n      n(_this.inputControl, Array.from(_this.messages)), S(Array.from(_this.messages)).then(t => _this.status = t);\n    }));\n  }\n\n  setupHostAttributes() {\n    this.inputControl.addEventListener(\"focusin\", () => this.focused = !0), this.inputControl.addEventListener(\"focusout\", () => this.focused = !1), this.observers.push(p(this.inputControl, \"disabled\", t => this.disabled = \"\" === t || t), p(this.inputControl, \"aria-disabled\", t => this.disabled = \"true\" === t), p(this.inputControl, \"readonly\", t => this.readonly = \"\" === t || t));\n  }\n\n  setupHTML5Validation() {\n    !this.inputControl?.form?.noValidate && this.validate && x(this, Array.from(this.messages));\n  }\n\n  setActionOffsetPadding() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const t = _this2.prefixAction?.updateComplete,\n            e = _this2.suffixAction?.updateComplete;\n\n      if ((yield t) || Promise.resolve(!0), (yield e) || Promise.resolve(!0), yield u(_this2.controlActions), !_this2.isGenericControl && _this2.supportsPrefixSuffixActions && _this2.hasControlActions) {\n        const t = d(_this2.prefixAction.getBoundingClientRect().width + 6),\n              e = d(_this2.suffixAction.getBoundingClientRect().width + 6);\n        _this2.inputControl.style.setProperty(\"padding-left\", _this2.isRTL ? e : t, \"important\"), _this2.inputControl.style.setProperty(\"padding-right\", _this2.isRTL ? t : e, \"important\");\n      }\n    })();\n  }\n\n  get layoutStable() {\n    return this.labelLayout !== w.default || !I(this.inputControl, this.controlLabel, this.layout);\n  }\n\n  setupResponsive() {\n    if (this.responsive && this.labelLayout === w.default && this.controlLabel) {\n      const t = {\n        layouts: k,\n        initialLayout: this.layout\n      };\n      this.addEventListener(\"cdsResizeChange\", () => {\n        h(this, t).then(t => {\n          t && this.layoutChange.emit(this.layout, {\n            bubbles: !0\n          });\n        });\n      });\n    }\n  }\n\n  setupLabelLayout() {\n    this.label?.getAttribute(\"cds-layout\")?.includes(\"display:screen-reader-only\") && (this.labelLayout = w.hiddenLabel), this.hasAriaLabelTypeAttr && (this.labelLayout = w.ariaLabel);\n  }\n\n  assignSlotIfInControlGroup() {\n    this.parentElement?.hasAttribute(\"cds-control-group\") && this.setAttribute(\"slot\", \"controls\");\n  }\n\n};\nt([c({\n  type: String\n})], D.prototype, \"status\", void 0), t([c({\n  type: String\n})], D.prototype, \"controlWidth\", void 0), t([c({\n  type: Boolean\n})], D.prototype, \"validate\", void 0), t([c({\n  type: Boolean\n})], D.prototype, \"responsive\", void 0), t([c({\n  type: String\n})], D.prototype, \"layout\", null), t([y({\n  type: Boolean,\n  reflect: !0\n})], D.prototype, \"focused\", void 0), t([y({\n  type: Boolean,\n  reflect: !0\n})], D.prototype, \"disabled\", void 0), t([y({\n  type: Boolean,\n  reflect: !0\n})], D.prototype, \"readonly\", void 0), t([y()], D.prototype, \"fixedControlWidth\", void 0), t([y()], D.prototype, \"supportsPrefixSuffixActions\", void 0), t([y()], D.prototype, \"isRTL\", null), t([y()], D.prototype, \"labelLayout\", void 0), t([f(\"input, select, textarea, [cds-control]\", {\n  required: \"error\",\n  requiredMessage: \"input element is missing\",\n  assign: \"input\"\n})], D.prototype, \"inputControl\", void 0), t([f(\"label\", {\n  required: \"error\",\n  requiredMessage: \"To meet a11y standards either a <label> or input[aria-label] should be provided.\",\n  assign: \"label\",\n  exemptOn: t => t.hasAriaLabelTypeAttr\n})], D.prototype, \"label\", void 0), t([i(\"cds-internal-control-label[action=primary]\")], D.prototype, \"controlLabel\", void 0), t([f(\"datalist\", {\n  assign: \"datalist\"\n})], D.prototype, \"datalistControl\", void 0), t([g(\"cds-control-message\")], D.prototype, \"messages\", void 0), t([g(\"[cds-button-action]\")], D.prototype, \"controlActions\", void 0), t([i(\".prefix\")], D.prototype, \"prefixAction\", void 0), t([i(\".suffix\")], D.prototype, \"suffixAction\", void 0), t([i(\".messages\")], D.prototype, \"messageSlot\", void 0), t([b()], D.prototype, \"layoutChange\", void 0), D = t([m()], D);\nexport { D as CdsControl, w as ControlLabelLayout };","map":{"version":3,"sources":["C:/Angular/toko/node_modules/@cds/core/forms/control/control.element.js"],"names":["__decorate","t","LitElement","e","html","s","query","i","getElementLanguageDirection","o","baseStyles","a","hasAriaLabelTypeAttr","l","syncProps","r","describeElementByElements","n","getElementUpdates","p","childrenUpdateComplete","u","pxToRem","d","calculateOptimalLayout","h","property","c","state","y","querySlot","f","querySlotAll","g","event","b","responsive","m","v","syncHTML5Validation","x","defaultControlWidth","L","defaultFormLayout","C","getStatusIcon","A","associateInputAndLabel","T","associateInputToDatalist","$","getCurrentMessageStatus","S","controlIsWrapped","I","formLayouts","k","w","default","ariaLabel","inputGroup","hiddenLabel","D","constructor","arguments","status","controlWidth","validate","_layout","focused","disabled","readonly","fixedControlWidth","supportsPrefixSuffixActions","labelLayout","observers","layout","replace","requestUpdate","isRTL","styles","inputControl","hasStatusIcon","render","primaryLabelTemplate","messages","length","inputTemplate","prefixTemplate","suffixTemplate","messagesTemplate","prefixDefaultTemplate","suffixDefaultTemplate","isGenericControl","tagName","toLowerCase","hasControlActions","controlActions","connectedCallback","setAttribute","firstUpdated","setupHostAttributes","setupHTML5Validation","setActionOffsetPadding","setupResponsive","setupDescribedByUpdates","setupLabelLayout","assignSlotIfInControlGroup","updated","forEach","has","disconnectedCallback","disconnect","label","datalistControl","messageSlot","addEventListener","Array","from","then","push","form","noValidate","prefixAction","updateComplete","suffixAction","Promise","resolve","getBoundingClientRect","width","style","setProperty","layoutStable","controlLabel","layouts","initialLayout","layoutChange","emit","bubbles","getAttribute","includes","parentElement","hasAttribute","type","String","prototype","Boolean","reflect","required","requiredMessage","assign","exemptOn","CdsControl","ControlLabelLayout"],"mappings":"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","sourcesContent":["import{__decorate as t}from\"tslib\";import{LitElement as e,html as s}from\"lit\";import{query as i}from\"lit/decorators/query.js\";import{getElementLanguageDirection as o,baseStyles as a,hasAriaLabelTypeAttr as l,syncProps as r,describeElementByElements as n,getElementUpdates as p,childrenUpdateComplete as u,pxToRem as d,calculateOptimalLayout as h,property as c,state as y,querySlot as f,querySlotAll as g,event as b,responsive as m}from\"@cds/core/internal\";import v from\"./control.element.scss.js\";import{syncHTML5Validation as x}from\"../utils/validate.js\";import{defaultControlWidth as L,defaultFormLayout as C,getStatusIcon as A,associateInputAndLabel as T,associateInputToDatalist as $,getCurrentMessageStatus as S,controlIsWrapped as I,formLayouts as k}from\"../utils/utils.js\";var w;!function(t){t.default=\"default\",t.ariaLabel=\"aria-label\",t.inputGroup=\"input-group\",t.hiddenLabel=\"hidden-label\"}(w||(w={}));let D=class extends e{constructor(){super(...arguments);this.status=\"neutral\",this.controlWidth=L,this.validate=!1,this.responsive=!0,this._layout=C,this.focused=!1,this.disabled=!1,this.readonly=!1,this.fixedControlWidth=!1,this.supportsPrefixSuffixActions=!0,this.labelLayout=w.default,this.observers=[]}get layout(){return this._layout}set layout(t){const e=this._layout;this._layout=t?t.replace(\"-inline\",\"\"):C,this.requestUpdate(\"layout\",e)}get isRTL(){return\"rtl\"===o(this)}static get styles(){return[a,v]}get hasAriaLabelTypeAttr(){return l(this.inputControl)}get hasStatusIcon(){return this.labelLayout!==w.inputGroup&&(\"error\"===this.status||\"success\"===this.status)}render(){return s`${this.labelLayout===w.hiddenLabel||this.labelLayout===w.inputGroup?s`<span cds-layout=\"display:screen-reader-only\"><slot name=\"label\" @slotchange=\"${()=>this.associateInputAndLabel()}\"></slot></span>`:\"\"}<div cds-layout=\"${\"vertical\"===this.layout?\"vertical gap:xs\":\"horizontal gap:lg\"} align:stretch\" class=\"private-host ${this.isRTL?\"rtl\":\"\"}\">${this.primaryLabelTemplate}<div class=\"input-message-container\" cds-layout=\"\n          wrap:none\n          ${\"compact\"===this.layout?\"horizontal\":\"vertical\"}\n          ${\"stretch\"!==this.controlWidth||this.fixedControlWidth?\"\":\"align:horizontal-stretch\"}\n          ${this.messages?.length?\"gap:xs\":\"\"}\"><div cds-layout=\"horizontal gap:xs wrap:none\"><div cds-layout=\"horizontal align:top wrap:none ${\"shrink\"===this.controlWidth||this.fixedControlWidth?\"align:shrink\":\"align:horizontal-stretch\"}\" class=\"${this.hasStatusIcon?\"input-container with-status-icon\":\"input-container\"}\">${this.inputTemplate} ${this.prefixTemplate}<slot name=\"input\"></slot>${this.suffixTemplate}</div>${this.hasStatusIcon?A(this.status):\"\"}</div>${this.messagesTemplate}<slot name=\"datalist\" @slotchange=\"${()=>this.associateInputToDatalist()}\"></slot></div></div>`}get inputTemplate(){return s``}get prefixDefaultTemplate(){return null}get suffixDefaultTemplate(){return null}get isGenericControl(){return\"cds-control\"===this.tagName.toLowerCase()}get hasControlActions(){return this.controlActions.length>0||this.prefixDefaultTemplate||this.suffixDefaultTemplate}get primaryLabelTemplate(){return s`${this.labelLayout===w.default?s`<cds-internal-control-label .disabled=\"${this.disabled}\" cds-layout=\"align:shrink align:top\" action=\"primary\"><slot name=\"label\" @slotchange=\"${()=>this.associateInputAndLabel()}\"></slot></cds-internal-control-label>`:\"\"}`}get messagesTemplate(){return s`<div cds-layout=\"${\"compact\"===this.layout?\"align:shrink\":\"\"}\" class=\"messages\"><slot name=\"message\"></slot></div>`}get prefixTemplate(){return s`<div cds-layout=\"align:shrink align:vertical-center\" class=\"prefix\"><div cds-layout=\"horizontal gap:xxs\">${this.prefixDefaultTemplate}<slot name=\"prefix\"></slot></div></div>`}get suffixTemplate(){return s`<div cds-layout=\"align:shrink align:vertical-center\" class=\"suffix\"><div cds-layout=\"horizontal gap:xxs\"><slot name=\"suffix\"></slot>${this.suffixDefaultTemplate}</div></div>`}connectedCallback(){super.connectedCallback(),this.setAttribute(\"cds-control\",\"\")}firstUpdated(t){super.firstUpdated(t),this.setupHostAttributes(),this.setupHTML5Validation(),this.setActionOffsetPadding(),this.setupResponsive(),this.setupDescribedByUpdates(),this.setupLabelLayout(),this.assignSlotIfInControlGroup()}updated(t){super.updated(t),this.messages.forEach((e=>r(e,this,{disabled:t.has(\"disabled\")}))),r(this.inputControl,this,{disabled:t.has(\"disabled\")})}disconnectedCallback(){super.disconnectedCallback(),this.observers.forEach((t=>t?.disconnect()))}associateInputAndLabel(){T(this.inputControl,this.label)}associateInputToDatalist(){$(this.inputControl,this.datalistControl)}setupDescribedByUpdates(){this.messageSlot?.addEventListener(\"slotchange\",(async()=>{n(this.inputControl,Array.from(this.messages)),S(Array.from(this.messages)).then((t=>this.status=t))}))}setupHostAttributes(){this.inputControl.addEventListener(\"focusin\",(()=>this.focused=!0)),this.inputControl.addEventListener(\"focusout\",(()=>this.focused=!1)),this.observers.push(p(this.inputControl,\"disabled\",(t=>this.disabled=\"\"===t||t)),p(this.inputControl,\"aria-disabled\",(t=>this.disabled=\"true\"===t)),p(this.inputControl,\"readonly\",(t=>this.readonly=\"\"===t||t)))}setupHTML5Validation(){!this.inputControl?.form?.noValidate&&this.validate&&x(this,Array.from(this.messages))}async setActionOffsetPadding(){const t=this.prefixAction?.updateComplete,e=this.suffixAction?.updateComplete;if(await t||Promise.resolve(!0),await e||Promise.resolve(!0),await u(this.controlActions),!this.isGenericControl&&this.supportsPrefixSuffixActions&&this.hasControlActions){const t=d(this.prefixAction.getBoundingClientRect().width+6),e=d(this.suffixAction.getBoundingClientRect().width+6);this.inputControl.style.setProperty(\"padding-left\",this.isRTL?e:t,\"important\"),this.inputControl.style.setProperty(\"padding-right\",this.isRTL?t:e,\"important\")}}get layoutStable(){return this.labelLayout!==w.default||!I(this.inputControl,this.controlLabel,this.layout)}setupResponsive(){if(this.responsive&&this.labelLayout===w.default&&this.controlLabel){const t={layouts:k,initialLayout:this.layout};this.addEventListener(\"cdsResizeChange\",(()=>{h(this,t).then((t=>{t&&this.layoutChange.emit(this.layout,{bubbles:!0})}))}))}}setupLabelLayout(){this.label?.getAttribute(\"cds-layout\")?.includes(\"display:screen-reader-only\")&&(this.labelLayout=w.hiddenLabel),this.hasAriaLabelTypeAttr&&(this.labelLayout=w.ariaLabel)}assignSlotIfInControlGroup(){this.parentElement?.hasAttribute(\"cds-control-group\")&&this.setAttribute(\"slot\",\"controls\")}};t([c({type:String})],D.prototype,\"status\",void 0),t([c({type:String})],D.prototype,\"controlWidth\",void 0),t([c({type:Boolean})],D.prototype,\"validate\",void 0),t([c({type:Boolean})],D.prototype,\"responsive\",void 0),t([c({type:String})],D.prototype,\"layout\",null),t([y({type:Boolean,reflect:!0})],D.prototype,\"focused\",void 0),t([y({type:Boolean,reflect:!0})],D.prototype,\"disabled\",void 0),t([y({type:Boolean,reflect:!0})],D.prototype,\"readonly\",void 0),t([y()],D.prototype,\"fixedControlWidth\",void 0),t([y()],D.prototype,\"supportsPrefixSuffixActions\",void 0),t([y()],D.prototype,\"isRTL\",null),t([y()],D.prototype,\"labelLayout\",void 0),t([f(\"input, select, textarea, [cds-control]\",{required:\"error\",requiredMessage:\"input element is missing\",assign:\"input\"})],D.prototype,\"inputControl\",void 0),t([f(\"label\",{required:\"error\",requiredMessage:\"To meet a11y standards either a <label> or input[aria-label] should be provided.\",assign:\"label\",exemptOn:t=>t.hasAriaLabelTypeAttr})],D.prototype,\"label\",void 0),t([i(\"cds-internal-control-label[action=primary]\")],D.prototype,\"controlLabel\",void 0),t([f(\"datalist\",{assign:\"datalist\"})],D.prototype,\"datalistControl\",void 0),t([g(\"cds-control-message\")],D.prototype,\"messages\",void 0),t([g(\"[cds-button-action]\")],D.prototype,\"controlActions\",void 0),t([i(\".prefix\")],D.prototype,\"prefixAction\",void 0),t([i(\".suffix\")],D.prototype,\"suffixAction\",void 0),t([i(\".messages\")],D.prototype,\"messageSlot\",void 0),t([b()],D.prototype,\"layoutChange\",void 0),D=t([m()],D);export{D as CdsControl,w as ControlLabelLayout};\n"]},"metadata":{},"sourceType":"module"}