{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Angular\\\\toko\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate as t } from \"tslib\";\nimport { LitElement as e, html as i } from \"lit\";\nimport { I18nService as o, ResponsiveController as r, renderAfter as s, listenForAttributeChange as n, propUpdated as l, baseStyles as h, property as a, i18n as d, state as c, layer as g, closable as p, ariaModal as u, ariaPopup as y, focusTrap as m, firstFocus as v, triggerable as w } from \"@cds/core/internal\";\nimport b from \"./grid-detail.element.scss.js\";\nlet C = class extends e {\n  constructor() {\n    super(...arguments);\n    this.position = \"right\", this.i18n = o.keys.grid, this.overlay = \"\", this.responsiveController = new r(this, {\n      element: this.parentElement\n    });\n  }\n\n  get grid() {\n    return this.parentElement;\n  }\n\n  get trigger() {\n    return \"string\" == typeof this.anchor ? this.getRootNode().querySelector(\"#\" + this.anchor) : this.anchor;\n  }\n\n  get closeButton() {\n    return i`<cds-button-action @click=\"${() => this.closableController.close()}\" shape=\"times\" aria-label=\"${this.i18n.closeDetails}\" part=\"close\"></cds-button-action>`;\n  }\n\n  get triggerRow() {\n    return this.trigger?.closest(\"cds-grid-row\");\n  }\n\n  render() {\n    return i`<div class=\"private-host\" role=\"presentation\"><div cds-layout=\"display:screen-reader-only\">${this.i18n.rowDetailStart}</div><slot></slot><div cds-layout=\"display:screen-reader-only\">${this.i18n.rowDetailEnd}</div></div><div class=\"caret\" role=\"presentation\"></div>`;\n  }\n\n  connectedCallback() {\n    var _this = this;\n\n    super.connectedCallback(), this.slot = \"detail\", s(this.closeButton, this), this.addEventListener(\"cdsResizeChange\", t => this.overlay = t.detail.width > 500 ? \"\" : \"full\"), this.observer = n(this, \"hidden\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (t) {\n        _this.grid.scrollLock = !t, yield _this.updateComplete, _this.setDetailWidthAlignment(), _this.toggleAnchorHover();\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  updated(t) {\n    var _superprop_getUpdated = () => super.updated,\n        _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _superprop_getUpdated().call(_this2, t), yield _this2.updateComplete, l(_this2, t, \"anchor\") && _this2.setAnchorPointer(t.get(\"anchor\"));\n    })();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback(), this.observer?.disconnect(), this.triggerRow?.removeAttribute(\"_detail-row\");\n  }\n\n  toggleAnchorHover() {\n    this.hidden ? this.triggerRow?.removeAttribute(\"_detail-row\") : this.triggerRow?.setAttribute(\"_detail-row\", \"\");\n  }\n\n  setAnchorPointer(t) {\n    t?.closest && t?.closest(\"cds-grid-row\")?.removeAttribute(\"_detail-row\"), this.toggleAnchorHover();\n    const e = this.trigger?.getBoundingClientRect()?.top - this?.getBoundingClientRect().top - 8;\n    this.style.setProperty(\"--caret-top\", e + \"px\");\n  }\n\n  setDetailWidthAlignment() {\n    \"bottom\" === this.position && this.alignToBottom();\n    const t = Array.from(this.triggerRow?.cells ?? []).find(t => \"rowheader\" === t.role);\n    t && this.alignToSide(t);\n  }\n\n  alignToBottom() {\n    const t = this.parentElement?.getBoundingClientRect(),\n          e = this.triggerRow?.getBoundingClientRect();\n    this.style.setProperty(\"--width\", \"100%\"), \"bottom\" === this.position && e && (this.style.top = e?.bottom - t.top - 1 + \"px\");\n  }\n\n  alignToSide(t) {\n    const e = this.parentElement?.getBoundingClientRect(),\n          i = t.getBoundingClientRect();\n    this.style.setProperty(\"--width\", \"auto\"), \"left\" === this.position || \"rtl\" === this.parentElement?.getAttribute(\"dir\") ? this.style.right = e.right - i.left + \"px\" : this.style.left = i.right - e.left + \"px\";\n  }\n\n};\nC.styles = [h, b], t([a({\n  type: String\n})], C.prototype, \"anchor\", void 0), t([a({\n  type: String\n})], C.prototype, \"position\", void 0), t([d()], C.prototype, \"i18n\", void 0), t([c({\n  type: String,\n  reflect: !0\n})], C.prototype, \"overlay\", void 0), C = t([g(), p(), u(), y(), m(), v(), w()], C);\nexport { C as CdsGridDetail };","map":{"version":3,"sources":["C:/Angular/toko/node_modules/@cds/core/grid/detail/grid-detail.element.js"],"names":["__decorate","t","LitElement","e","html","i","I18nService","o","ResponsiveController","r","renderAfter","s","listenForAttributeChange","n","propUpdated","l","baseStyles","h","property","a","i18n","d","state","c","layer","g","closable","p","ariaModal","u","ariaPopup","y","focusTrap","m","firstFocus","v","triggerable","w","b","C","constructor","arguments","position","keys","grid","overlay","responsiveController","element","parentElement","trigger","anchor","getRootNode","querySelector","closeButton","closableController","close","closeDetails","triggerRow","closest","render","rowDetailStart","rowDetailEnd","connectedCallback","slot","addEventListener","detail","width","observer","scrollLock","updateComplete","setDetailWidthAlignment","toggleAnchorHover","updated","setAnchorPointer","get","disconnectedCallback","disconnect","removeAttribute","hidden","setAttribute","getBoundingClientRect","top","style","setProperty","alignToBottom","Array","from","cells","find","role","alignToSide","bottom","getAttribute","right","left","styles","type","String","prototype","reflect","CdsGridDetail"],"mappings":"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","sourcesContent":["import{__decorate as t}from\"tslib\";import{LitElement as e,html as i}from\"lit\";import{I18nService as o,ResponsiveController as r,renderAfter as s,listenForAttributeChange as n,propUpdated as l,baseStyles as h,property as a,i18n as d,state as c,layer as g,closable as p,ariaModal as u,ariaPopup as y,focusTrap as m,firstFocus as v,triggerable as w}from\"@cds/core/internal\";import b from\"./grid-detail.element.scss.js\";let C=class extends e{constructor(){super(...arguments);this.position=\"right\",this.i18n=o.keys.grid,this.overlay=\"\",this.responsiveController=new r(this,{element:this.parentElement})}get grid(){return this.parentElement}get trigger(){return\"string\"==typeof this.anchor?this.getRootNode().querySelector(\"#\"+this.anchor):this.anchor}get closeButton(){return i`<cds-button-action @click=\"${()=>this.closableController.close()}\" shape=\"times\" aria-label=\"${this.i18n.closeDetails}\" part=\"close\"></cds-button-action>`}get triggerRow(){return this.trigger?.closest(\"cds-grid-row\")}render(){return i`<div class=\"private-host\" role=\"presentation\"><div cds-layout=\"display:screen-reader-only\">${this.i18n.rowDetailStart}</div><slot></slot><div cds-layout=\"display:screen-reader-only\">${this.i18n.rowDetailEnd}</div></div><div class=\"caret\" role=\"presentation\"></div>`}connectedCallback(){super.connectedCallback(),this.slot=\"detail\",s(this.closeButton,this),this.addEventListener(\"cdsResizeChange\",(t=>this.overlay=t.detail.width>500?\"\":\"full\")),this.observer=n(this,\"hidden\",(async t=>{this.grid.scrollLock=!t,await this.updateComplete,this.setDetailWidthAlignment(),this.toggleAnchorHover()}))}async updated(t){super.updated(t),await this.updateComplete,l(this,t,\"anchor\")&&this.setAnchorPointer(t.get(\"anchor\"))}disconnectedCallback(){super.disconnectedCallback(),this.observer?.disconnect(),this.triggerRow?.removeAttribute(\"_detail-row\")}toggleAnchorHover(){this.hidden?this.triggerRow?.removeAttribute(\"_detail-row\"):this.triggerRow?.setAttribute(\"_detail-row\",\"\")}setAnchorPointer(t){t?.closest&&t?.closest(\"cds-grid-row\")?.removeAttribute(\"_detail-row\"),this.toggleAnchorHover();const e=this.trigger?.getBoundingClientRect()?.top-this?.getBoundingClientRect().top-8;this.style.setProperty(\"--caret-top\",e+\"px\")}setDetailWidthAlignment(){\"bottom\"===this.position&&this.alignToBottom();const t=Array.from(this.triggerRow?.cells??[]).find((t=>\"rowheader\"===t.role));t&&this.alignToSide(t)}alignToBottom(){const t=this.parentElement?.getBoundingClientRect(),e=this.triggerRow?.getBoundingClientRect();this.style.setProperty(\"--width\",\"100%\"),\"bottom\"===this.position&&e&&(this.style.top=e?.bottom-t.top-1+\"px\")}alignToSide(t){const e=this.parentElement?.getBoundingClientRect(),i=t.getBoundingClientRect();this.style.setProperty(\"--width\",\"auto\"),\"left\"===this.position||\"rtl\"===this.parentElement?.getAttribute(\"dir\")?this.style.right=e.right-i.left+\"px\":this.style.left=i.right-e.left+\"px\"}};C.styles=[h,b],t([a({type:String})],C.prototype,\"anchor\",void 0),t([a({type:String})],C.prototype,\"position\",void 0),t([d()],C.prototype,\"i18n\",void 0),t([c({type:String,reflect:!0})],C.prototype,\"overlay\",void 0),C=t([g(),p(),u(),y(),m(),v(),w()],C);export{C as CdsGridDetail};\n"]},"metadata":{},"sourceType":"module"}